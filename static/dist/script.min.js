"use strict";var timerInterval=null;function drawHangman(o){["base","pole","top","rope","head","body","left-arm","right-arm","left-leg","right-leg"].forEach(function(e,t){var n=document.getElementById("hangman-".concat(e));n&&(t<o?n.classList.add("visible"):n.classList.remove("visible"))})}function setUsername(){var e=document.getElementById("usernameInput").value.trim();e?fetch("/set_username",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"username=".concat(encodeURIComponent(e))}).then(function(e){return e.json()}).then(function(e){showMessage(e.message,"#4caf50"),location.reload()}).catch(function(e){return showMessage("Error setting username","#ef5350")}):showMessage("Please enter a username","#ef5350")}function startGame(){clearInterval(timerInterval),fetch("/start",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"category=".concat(encodeURIComponent(document.getElementById("category").value),"&difficulty=").concat(encodeURIComponent(document.getElementById("difficulty").value))}).then(function(e){return e.json()}).then(function(e){updateGame(e),startTimer(e.timer),document.getElementById("wordDisplay").classList.add("reveal"),setTimeout(function(){return document.getElementById("wordDisplay").classList.remove("reveal")},500)}).catch(function(e){return showMessage("Error starting game","#ef5350")})}function startTimer(e){document.getElementById("timer").textContent="Time Left: ".concat(e,"s"),timerInterval=setInterval(function(){e--,document.getElementById("timer").textContent="Time Left: ".concat(e,"s"),e<=0&&(clearInterval(timerInterval),endGame("Timeâ€™s up! You lost!"))},1e3)}function makeGuess(){var t=document.getElementById("guessInput"),e=t.value.trim().toLowerCase();if(!e.match(/^[a-z]$/))return showMessage("Please enter a single letter (a-z)","#ef5350"),void(t.value="");fetch("/guess",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"guess=".concat(encodeURIComponent(e))}).then(function(e){return e.json()}).then(function(e){t.value="",updateGame(e),e.message.includes("Good")&&(document.getElementById("wordDisplay").classList.add("reveal"),setTimeout(function(){return document.getElementById("wordDisplay").classList.remove("reveal")},500)),(e.message.includes("won")||e.message.includes("lost"))&&clearInterval(timerInterval)}).catch(function(e){return showMessage("Error making guess","#ef5350")})}function getHint(){fetch("/hint",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:""}).then(function(e){return e.json()}).then(function(e){updateGame(e),e.message.includes("Hint")&&(document.getElementById("wordDisplay").classList.add("reveal"),setTimeout(function(){return document.getElementById("wordDisplay").classList.remove("reveal")},500))}).catch(function(e){return showMessage("Error getting hint","#ef5350")})}function clearHistory(){fetch("/clear_history",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:""}).then(function(e){return e.json()}).then(function(e){showMessage(e.message,"#4caf50"),location.reload()}).catch(function(e){return showMessage("Error clearing history","#ef5350")})}function resetGame(){startGame()}function endGame(e){showMessage(e,"#ef5350"),setTimeout(function(){return location.reload()},1500)}function showMessage(e,t){var n=document.getElementById("message");n.textContent=e,n.style.color=t}function updateGame(e){document.getElementById("wordDisplay").textContent=e.word_display||document.getElementById("wordDisplay").textContent,document.getElementById("usedLetters").textContent="Used Letters: "+(e.used_letters||""),document.getElementById("message").textContent=e.message,document.getElementById("score").textContent="Score: ".concat(e.score||0),void 0!==e.hangman_stage&&drawHangman(e.hangman_stage);var t=document.getElementById("message");e.message.includes("Good")||e.message.includes("Hint")?t.style.color="#4caf50":e.message.includes("Wrong")||e.message.includes("lost")?t.style.color="#ef5350":e.message.includes("won")?t.style.color="#0288d1":t.style.color="#006064"}document.getElementById("guessInput").addEventListener("keypress",function(e){"Enter"===e.key&&makeGuess()}),document.getElementById("category").style.animation="slideUp 0.5s ease-out";
//# sourceMappingURL=script.min.js.map
